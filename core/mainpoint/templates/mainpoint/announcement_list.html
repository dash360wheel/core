{% extends "mainpoint/base.html" %}
{% block title %}Welcome to Our School{% endblock %}

{% block content %}
<!-- 1️⃣ Hero Carousel -->
<div id="heroCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://source.unsplash.com/1600x500/?school,classroom" class="d-block w-100" alt="Slide 1">
      <div class="carousel-caption d-none d-md-block">
        <h2>Welcome to Our School</h2>
        <p>Your journey to excellence begins here.</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="https://source.unsplash.com/1600x500/?students,learning" class="d-block w-100" alt="Slide 2">
      <div class="carousel-caption d-none d-md-block">
        <h2>Empowering the Future</h2>
        <p>Innovative education with heart and purpose.</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="https://source.unsplash.com/1600x500/?education,teacher" class="d-block w-100" alt="Slide 3">
      <div class="carousel-caption d-none d-md-block">
        <h2>Join Our Community</h2>
        <p>Connect. Learn. Grow together.</p>
      </div>
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

<!-- 2️⃣ About Section -->
<div class="container mb-5">
  <div class="row align-items-center">
    <div class="col-md-6">
      <h3>About Our School</h3>
      <p>We are committed to academic excellence, character development, and lifelong learning. Our school fosters a community where students grow intellectually, emotionally, and socially.</p>
      <a href="/about/" class="btn btn-outline-primary">Learn More</a>
    </div>
    <div class="col-md-6">
      <img src="https://source.unsplash.com/600x400/?students" alt="Students" class="img-fluid rounded shadow">
    </div>
  </div>
</div>

<!-- 3️⃣ Services / Quick Links -->
<div class="container mb-5">
  <h3 class="text-center mb-4">Student Services</h3>
  <div class="row text-center g-4">
    <div class="col-md-4">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <h5 class="card-title">📚 Classes</h5>
          <p class="card-text">Find and register for upcoming classes.</p>
          <a href="/classes/" class="btn btn-primary">View Classes</a>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <h5 class="card-title">🎓 Admissions</h5>
          <p class="card-text">Apply to join our school and start learning.</p>
          <a href="/admissions/" class="btn btn-primary">Apply Now</a>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <h5 class="card-title">🤝 Student Support</h5>
          <p class="card-text">Tutoring, mental health, tech support & more.</p>
          <a href="/students/support/" class="btn btn-primary">Get Help</a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 4️⃣ Programs or Departments -->
<div class="bg-light py-5">
  <div class="container">
    <h3 class="text-center mb-4">Academic Departments</h3>
    <div class="row text-center g-3">
      <div class="col-6 col-md-3">
        <div class="border p-3 rounded bg-white shadow-sm">🧪 Science</div>
      </div>
      <div class="col-6 col-md-3">
        <div class="border p-3 rounded bg-white shadow-sm">💻 Technology</div>
      </div>
      <div class="col-6 col-md-3">
        <div class="border p-3 rounded bg-white shadow-sm">📖 Literature</div>
      </div>
      <div class="col-6 col-md-3">
        <div class="border p-3 rounded bg-white shadow-sm">🎨 Arts</div>
      </div>
    </div>
  </div>
</div>

<!-- 5️⃣ News / Announcements -->
<div class="container my-5">
  <h3 class="mb-4">📢 Latest News</h3>
  <ul class="list-group">
    {% for announcement in announcements %}
      <li class="list-group-item">
        <strong>{{ announcement.title }}</strong><br>
        {{ announcement.message }}
        <div><small class="text-muted">{{ announcement.created_at|date:"F j, Y" }}</small></div>
      </li>
    {% empty %}
      <li class="list-group-item">No announcements yet.</li>
    {% endfor %}
  </ul>
</div>

<!-- 🎉 Upcoming Events -->
<div class="container my-5">
  <h3 class="mb-4">🎉 Upcoming Events</h3>
  <div class="row row-cols-1 row-cols-md-2 g-4">
    {% for event in events %}
      <div class="col">
        <div class="card h-100 shadow-sm border-0">
          <div class="card-body">
            <h5 class="card-title">{{ event.title }}</h5>
            <p class="card-text">{{ event.description|truncatechars:150 }}</p>
            <p class="card-text text-muted">
              📅 {{ event.date|date:"F j, Y" }} at {{ event.time|time:"g:i A" }}
            </p>
            <a href="{% url 'event-detail' event.id %}" class="btn btn-outline-primary btn-sm">More Info</a>
          </div>
        </div>
      </div>
    {% empty %}
      <p>No upcoming events at this time.</p>
    {% endfor %}
  </div>
</div>

<div class="container py-5">
  <h2 class="text-center mb-4">📅 School Activity Calendar</h2>
  <div id="calendar"></div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      events: '/events/json/',  // This will fetch events from Django
      eventColor: '#007bff',
      headerToolbar: {
        start: 'title',
        center: '',
        end: 'today prev,next'
      },
      eventClick: function(info) {
        alert('Event: ' + info.event.title + '\nDate: ' + info.event.start.toLocaleDateString());
      }
    });
    calendar.render();
  });
</script>


{% endblock %}
